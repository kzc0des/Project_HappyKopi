<div class="w-full bg-[#f0f0f0] flex flex-col h-[calc(100vh-220px)] overflow-hidden">
  @if (orders.length === 0) {
  <!-- Empty State -->
  <div class="flex flex-col items-center justify-center px-5 py-16 min-h-[400px] text-center">
    <h3 class="font-[Outfit] text-xl font-bold text-[#282828] mb-3">No drinks added yet!</h3>
    <p class="font-[Outfit] text-base text-[#919191] max-w-md">
      Choose a drink from our order page first.
    </p>
  </div>
  } @else {
  <!-- Cart Items -->
  <div class="flex flex-col bg-[#f0f0f0] pb-5 no-scrollbar">
    <app-cart-item
      *ngFor="let order of orders; let last = last"
      [cartItem]="order"
      [class.mb-32]="last"
      (edit)="openEditModal($event)"
    ></app-cart-item>
  </div>
  }

  <!-- Bottom Actions -->
  <div
    class="fixed bottom-0 left-0 w-full flex flex-col gap-4 justify-center z-[999] bg-[#fafafa] pt-3 pb-5 px-6 rounded-t-[32px] shadow-[0px_-1px_18px_-5px_rgba(0,0,0,0.25)]"
  >
    <!-- Total -->
    <div class="text-[18px] font-[Outfit] text-center bg-[#f0f0f0] py-3 w-full rounded-md">
      Total: <span class="font-bold">{{ total | currency : 'PHP' }}</span>
    </div>

    <!-- Buttons -->
    <div class="flex flex-col gap-3">
      <app-long-yellow-button 
        buttonSize="long"
        buttonTitle="Charge using Cash"
        (click)="chargeWithCash()"
        class="flex justify-center"
      ></app-long-yellow-button>

      <app-long-yellow-button
        buttonType="gcash"
        buttonSize="long"
        buttonTitle="Charge using G-Cash"
        (click)="chargeWithGCash()"
        class="flex justify-center"
      ></app-long-yellow-button>
    </div>
  </div>

  <!-- Edit Modal -->
  @if (showEditModal && selectedOrderId !== null) {
  <div class="fixed inset-0 bg-black/50 z-[999]" (click)="closeEditModal()"></div>
  <div
    class="fixed top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-[1000] w-[90%] max-w-[600px]"
  >
    <app-edit-order-modal
      [orderId]="selectedOrderId!"
      (closeModal)="closeEditModal()"
    ></app-edit-order-modal>
  </div>
  }
</div>
