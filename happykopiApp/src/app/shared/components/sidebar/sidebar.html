@if (isSidebarOpen$ | async) {
<div class="backdrop" (click)="close()"></div>
}

<aside [class.open]="isSidebarOpen$ | async" class="w-[80vw] h-screen bg-hapikopi-bg pt-5 flex flex-col absolute">
    <div class="relative w-[100vw]">
        <div [class.open]="isSidebarOpen$ | async" class="toggle" (click)="close()">
            <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 48 48">
                <path fill="none" stroke="#333333" stroke-linecap="round" stroke-linejoin="round" stroke-width="4"
                    d="M31 36L19 24l12-12" />
            </svg>
        </div>
    </div>
    <section class="px-5">
        <div class="flex items-center gap-2">
            <img class="w-20" src="../../../../assets/HappyKopiLogo.png" alt="happykopi_logo">
            <p class="font-bold text-xl text-hapikopi-dark">HappyKopi</p>
        </div>
        <h1 class="py-5 text-lg font-[700]">{{((currentUser | async)?.username) | titlecase}}</h1>
    </section>
    <hr>

    <section class="flex flex-col flex-1 py-5">
        @for (item of pages; track $index) {
        <app-sidebar-button [page]="item.page" [route]="item.route" (action)="close()"></app-sidebar-button>
        }
    </section>
    <hr>
    <section class="flex flex-col gap-3 px-5 py-4">
        <app-sidebar-button page="settings"></app-sidebar-button>
        <app-sidebar-button page="sign out" (action)="logout()"></app-sidebar-button>
    </section>
</aside>